\chapter{Concept}
\label{chap:concept}

\section{Introduction}
% Recap of the research problem and objectives of this chapter.
This chapter presents the conceptual design of an XR-based assistance system aimed at enhancing the safety and ergonomics of industrial workers. Building on the theoretical foundations outlined in Chapter \ref{chap:theoretical_background}, it details the system requirements, architectural framework, posture analysis and hazard detection concepts, feedback modalities, interaction design, and evaluation criteria. The goal is to provide a comprehensive framework that addresses the identified challenges by utilizing the capabilities of wearable technologies and XR environments. This conceptual framework serves as a foundation for the subsequent implementation and evaluation phases of the project.

\section{System Requirements and Constraints}
The XR-based assistance system's design is guided by a set of functional and non-functional requirements, as well as hardware and software constraints. These requirements ensure that the system effectively addresses the needs of industrial workers while adhering to practical limitations.

\subsection{Functional Requirements}
In order to give appropriate feedback on the users posture and the surrounding hazards the system needs to achieve a multitude of functional requirements. 
Accurate real-time posture tracking is essential for effective application of ergonomic assessment models like RULA. Due to the Teslasuit's use of accelerometers the system also needs to be able to calibrate the sensors to minimize the effect of drift over time. In addition the system needs to correctly place the user in the XR environment and align the real-world coordinates with the XR coordinates. This is necessary to accurately assess the users proximity to hazard zones. For the system to be accesible to workers it also needs to provide a user-friendly interface which allows easy calibration and minimal interaction during tasks. The system also needs to be able to integrate with existing industrial systems like GAIA to leverage existing infrastructure and data. In order to be able to properly analyze the data the system also needs to log relevant data for later assessment. Finally the system needs to provide haptic and visual feedback to alert workers of unsafe postures and hazards in their environment.

\subsection{Non-functional Requirements}
In order to fulfill its functional requirements the system also needs to meet several non-functional requirements. 
The system must operate with low latency to ensure timely feedback. It should be reliable, minimizing false positives and ensuring consistent performance in industrial environments. The system should be intuitive and require minimal training for workers to use effectively. Additionally, the system should be non-intrusive, allowing workers to perform their tasks without significant disruption. The system should also be scalable to accommodate different industrial settings and adaptable to various tasks and environments.

\subsection{Hardware and Software Constraints}
The design of the XR-based assistance system is influenced by several hardware and software constraints. 
Most notably the teslasuit introduces several limitations. In order to transmit data from the teslasuit a software provided by the manufacturer is required. sadly this software only runs on windows which means a device running windows is required for the system. Due to this limitation the software also needs to be distributed between the Meta Quest 3 and a windows PC. Due to the Teslasuit using IMUs for motion tracking the posture detection is subject to drift over time and will need to be calibnrated occasionally. Additionally there is no way for the Teslasuit to detect whether a body part is resting on a surface which rules out certain aspects of ergonomic assessment models like RULA. The battery life of the Teslasuit and Meta Quest 3 also limits the duration of use before recharging is necessary. The comfort of wearing the XR headset for extended periods is another consideration, as discomfort could affect worker compliance. Finally, maintaining a stable wireless connection between the wearable devices and the processing unit is crucial for real-time data transmission and feedback.

\section{Framework Architecture}
Due to the software limitations the Framework is distributed between the Meta Quest 3 and a windows PC which will handle the data and most of the computation. Which has the advantage of allowing the use of more powerful hardware for data processing. Due to this the Meta Quest 3 will primarily handle XR rendering and user interaction resulting in lower latency and higher frame rates. The Windows PC will handle data acquisition from the Teslasuit, posture analysis, hazard detection, and integration with industrial systems like GAIA. The two devices will communicate via Unity's native networking capabilities. This architecture allows for efficient distribution of tasks while leveraging the strengths of each device.

\subsection{Hardware Components}
The XR-based assistance system requires serveral hardware components to function effectively. First and foremost the XR-based assistance system requires an XR headset to provide the spatial tracking and visual feedback. The Meta Quest 3 is chosen for its low cost, standalone capabilities, spatial tracking features and widespread adoption. The Teslasuit is used for posture tracking and biometric data collection due to its comprehensive sensor suite and haptic feedback capabilities. A Windows PC is necessary to run the Teslasuit software and handle data processing tasks that exceed the capabilities of the Meta Quest 3. Additionally the system will integrate with existing industrial systems like GAIA to leverage existing infrastructure and data. Optionally additional sensors like smart watches can be integrated to provide supplementary biometric data.

\subsection{Data Flow and Integration via LSL}
-synchronization of data streams from Teslasuit and Meta Quest 3 
-collection of motion and biometric data from Teslasuit
-integration of tracking and XR scene information from Meta Quest 3

\subsection{Communication Protocols}
-LabStreamingLayer (LSL) for low-latency synchronization
-MQTT for lightweight messaging with industrial systems
-Unity native networking for communication between Meta Quest 3 and Windows PC

\section{Posture Analysis Concept}
-Real-time joint angle data acquisition from Teslasuit
-Ergonomic assessment using RULA
\subsection{Joint Angle Data Acquisition}
-use of Teslasuit IMUs for limb and torso angle detection
-continuous sampling at defined frequency
-preprocessing: smoothing, filtering to reduce noise
-mapping raw sensor data into ergonomic posture models
\subsection{Ergonomic Assessment Model}
To assess the ergonomic risk of the user's posture the System uses a simplified version of RULA where limbs and the torso will be scored individually to apply localized feedback. The ergonomic risk will also be aggregated into an overall score to provide a general overview of the user's posture. The ergonomic assessment will be performed at regular intervals to provide timely feedback without overwhelming the user.
For the purpose of providing feedback to the user the ergonomic risk levels are mapped into three categories:
\begin{itemize}
    \item Low Risk: No action needed
    \item Medium Risk: Subtle corrective feedback (haptic, visual)
    \item High Risk: Strong alert to prompt immediate correction
\end{itemize}
Additionally the scores will be continuously logged for later analysis and statistics. 
\subsection{RULA Scoring Adaptation}
The scores are determined based on the RULA scoring system as described by McAtamney and Corlett \cite{mcatamney1993rula}. However due to the limitations of the Teslasuit's IMU-based tracking system some adaptations are necessary. 
The RULA scoring system is divided into two sections with respectively 4 and 3 subcategories corresponding to different body parts. The first section (A) evaluates the upper arm, lower arm, wrist, and wrist twist, while the second section (B) assesses the neck, trunk, and legs. Each body part is assigned a score based on its position and movement, which are then combined to produce an overall risk score. Addtionally muscle use and force/load scores are added to the overall score of both categories. The force score is disregarded in this implementation due to the lack of force sensors in the Teslasuit.
The wrist twist, wrist position and leg score is also disregarded due to missing sensors needed to determine these scores.
To account for the lack of these scores they will be assumed to be in a neutral position and assigned the lowest possible score. This means that the overall ergonomic risk may be underestimated, especially in tasks that involve significant wrist movement or leg strain. However, this adaptation allows for an ergonomic assessment using the available data from the Teslasuit and The Meta Quest 3. Additionally to avoid overwhelming the user with constant feedback, as is one of the stated goals of this system, the assessment should slightly underestimate the risk in some cases rather than overestimate it and cause alert fatigue. 

\section{Hazard Detection Concept}

-Using XR environment to define and visualize danger zones
-Integration of real-world data for hazard detection

\subsection{Spatial Alignment of XR and Real-World Coordinates}
In order to accurately assess the user's proximity to defined hazard zones within the XR environment, precise spatial alignment between the Teslasuit's real-world coordinates and the Meta Quest 3's XR coordinates is essential. This alignment ensures that the system can effectively monitor the user's location relative to virtual representations of hazardous areas.
- calibration procedure between Teslasuit and Quest 3 spaces
- use of anchor points (markers or environment geometry)

\subsection{Definition of Danger Zones}
- virtual representation of hazardous areas in XR
- dynamic adjustment based on real-world changes
- individually placed danger zones for specific tasks
- visual cues (color coding, flashing) for hazard zones
- Multi-zone hierarchy (e.g., caution, danger, emergency)

\subsection{Sensor and XR Data Fusion}
- Combining Teslasuit motion data with XR positional tracking
- Real-time monitoring of worker proximity to danger zones


\section{Feedback Modalities}
\subsection{Haptic Feedback}
-local cues for posture correction
-intensity scaling depending on urgency
-spatial mapping of cues to body region
\subsection{Visual Feedback}
- XR overlays for hazard alerts
- color-coded indicators for ergonomic status
- minimalistic design to avoid clutter

\subsection{Rationale for Feedback Choice}
Haptic and visual feedback are strategically combined to maximize user awareness and minimize cognitive load. Haptic cues provide immediate, localized alerts without adding to visual clutter. Visual feedback 
-Haptic cues reduce visual overload
-Visual feedback leverages XR capabilities
-Combination enhances situational awareness (SOURCE!!)

\section{Interaction Design}
-Aside from setup and calibration the system should require minimal interaction from the worker
-The system should provide clear and concise feedback without overwhelming the worker
- The system should be non-intrusive when no hazards or poor posture is detected
\subsection{Worker Interaction with the System}
-Calibration at start of shift
-Minimal interaction during tasks
-Option to acknowledge alerts

\subsection{Avoiding Information Overload}
-Prioritization of Alerts
-Haptic vs Visual Feedback
-low intensity haptic feedback for posture correction
-stronger haptic feedback for hazard alerts
-visual feedback for immediate/ dangerous hazard alerts
-adaptive alert frequency 
-personalization of feedback intensity

\subsection{Safety-Critical Design Considerations}
-Alerts must not obstruct vision of critical tasks of Components
-Defaults in case of sensor failure
-avoid false positives to avoid alert fatigue


\section{Conceptual Evaluation Criteria}
In order to evaluate the effectiveness of the conceptual design, several criteria are established. These criteria focus on the system's ability to meet functional and non-functional requirements, as well as its overall usability and integration capabilities.
\subsection{Relation to Research Questions}

-Posture monitoring accuracy
-Hazard detection reliability
-Latency thresholds
-Spatial alignment 

\subsection{Success Criteria for the Concept}
-Accurate posture detection (within 5 degrees)
-Latency below 200ms
-Integration with existing systems
-Hazard zones correctly represented in XR

\section{Summary and Transition}
% Recap of the conceptual design and transition to Implementation.
